{% assign Address = customer.default_address %}

<div class="container mt-5">
  <h1 class="mb-4">Hello, {{ customer.first_name }}!</h1>

  <div class="row">
    <div class="col-md-6">
      <h4>Account Information</h4>
      <p><strong>Name:</strong> {{ customer.name }}</p>
      <p><strong>Email:</strong> {{ customer.email }}</p>
      <p>
        <strong>Address:</strong>
        {{ Address.address1 | append: "," }}
        {{ Address.city  | append: "," }}
        {{ Address.country.name }}
      </p>
      <button class="btn btn-primary">Edit Account</button>
    </div>
    <div class="col-md-6">
      <h4>Order History</h4>
      {% if customer.orders_count > 0 %}
        <table class="table">
          <thead>
            <tr>
              <th>Order Number</th>
              <th>Order Date</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            {% for order in customer.orders %}
              <tr>
                <td>{{ order.order_number }}</td>
                <td>{{ order.created_at | date: format: 'abbreviated_date' }}</td>
                <td>{{ order.line_items_subtotal_price | money }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>You don't have any order.</p>
      {% endif %}
    </div>
  </div>

  <div class="mt-4">
    <h4>Default Address</h4>
    <p>
      <strong>Address:</strong>
      {{ Address.address1 | append: "," }}
      {{ Address.city | append: "," }}
      {{ Address.country.name }}
    </p>
    <a class="btn btn-primary" href="{{ routes.account_addresses_url }}">See Addresses</a>
  </div>
</div>

{% schema %}
{
  "name": "Account Information",
  "class": "section",
  "settings": []
}
{% endschema %}
